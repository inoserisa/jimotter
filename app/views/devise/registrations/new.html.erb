<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-10 card shadow">
			<div class="card-body">
				<h2 class="pb-4 text-center"><%= t('.sign_up') %></h2>

				<div class="card mb-3">
					<div class="card-body">
						<h6>新規登録でできること</h6>
						<ul class="mb-0">
							<li>投稿、質問、回答</li>
							<li>投稿のブックマーク</li>
							<li>投稿にコメント</li>
						</ul>
					</div>
				</div>

				<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  			<%= hidden_field_tag :authenticate_id, session[:authenticate_id] if session[:authenticate_id].present? %>
					<%= render "devise/shared/error_messages", resource: resource %>

					<div class="mb-3">
						<%= f.label :name, class: "form-label" %>
						<%= f.text_field :name, autofocus: true, class: 'form-control' %>
					</div>

					<div class="mb-3">
						<%= f.label :email, class: "form-label" %>
						<%= f.email_field :email, autocomplete: "email", class: 'form-control' %>
					</div>

					<% if session[:authenticate_id].present? %>
						<%= f.hidden_field :password, value: Devise.friendly_token %>
						<%= f.hidden_field :password_confirmation, value: Devise.friendly_token %>
					<% else %>
						<div class="field mb-3">
							<%= f.label :password %><br />
							<%= f.password_field :password, autocomplete: "new-password", class: "form-control" %>
						</div>

						<div class="field mb-3">
							<%= f.label :password_confirmation %><br />
							<%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control" %>
						</div>
					<% end %>

					<div class="mb-5">
						<%= f.check_box :agreement_terms, :as => :boolean, checked:false, class: "checkbox_check" %>
						<%= link_to "利用規約", terms_path, target: "_blank" %>と<%= link_to "プライバシーポリシー", privacy_policy_path, target: "_blank" %>に同意します。
					</div>

					<div class="mb-3 d-flex justify-content-center">
						<%= f.submit t('.sign_up'), class: 'btn btn-primary' %>
					</div>
				<% end %>

				<div class="text-center">
					<%= render "devise/shared/links" %>
				</div>

				<%= link_to 'Xで登録', user_twitter_omniauth_authorize_path, method: :post %>
				<%= link_to 'Googleで登録', user_google_oauth2_omniauth_authorize_path, method: :post %>
			</div>
		</div>
	</div>
</div>
